{% extends 'base.html.twig' %}

{% block title %}Ajouter Opérations{% endblock %}

{% block body %}
	<header>
		{% include "/layout/navbar.html.twig" %}
		{% include "/layout/operations_nav.html.twig" %}
	</header>
	<div class="container  min-vh-100">
		<h2 class="text-center mt-5">Ajouter des opérations
		</h2>
		<table class="table table-hover table-striped border-2 mt-5 ">
			<thead>
				<tr>
					<th class="center-table" scope="col">DATE DEMANDE</th>
					<th class="center-table" scope="col">NOM CLIENT</th>
					<th class="center-table" scope="col">PRENOM CLIENT</th>
					<th class="center-table" scope="col">E-MAIL CLIENT</th>
					<th class="center-table" scope="col">N°/NOM RUE</th>
					<th class="center-table" scope="col">CP</th>
					<th class="center-table" scope="col">VILLE</th>
					<th class="center-table" scope="col">DESCRIPTION</th>
					<th class="center-table" scope="col">VALIDER</th>
					<th class="center-table" scope="col">SUPPRIMER</th>
				</tr>
			</thead>
			<tbody>
				{% for operation in stockOp %}
					<tr>
						<th class="center-table" scope="row">0/0/0</th>
						<td class="center-table">{{operation.client.nom}}</td>
						<td class="center-table">{{operation.client.prenom}}</td>
						<td class="center-table">{{operation.client.email}}</td>
						<td class="center-table">{{operation.adresse.getNRue()}}
							{{operation.adresse.getNomRue()}}</td>
						<td class="center-table">{{operation.adresse.cp}}</td>
						<td class="center-table">{{operation.adresse.getNomVille}}</td>
						<td class="center-table">
							<div class="accordion">
								<div class="accordion-item">
									<h2 class="accordion-header">
										<button class="accordion-button" type="button" onclick="descriptionClient('descriptionClient_{{ loop.index }}')">
											<p>Voir la description</p>
										</button>
									</h2>
									<div class="text-white bg-d-green d-none accordion-body" id="descriptionClient_{{ loop.index }}">
										{{ operation.getDescriptionOp() }}
									</div>
								</div>
							</div>
						</td>
						<td class="center-table">
							<a href="{{ path('app_edit_operation', {'id': operation.id}) }}" class="btn btn-primary">Modifier</a>
						</td>
						<td class="center-table">
							<a onclick="return confirm('Voulez-vous vraiment supprimer cet utilisateur ?')" href="{{path('app_remove_operation' , {'id':operation.id}) }}" class="btn btn-danger ">Supprimer</a>
						</td>

					</tr>
				{% endfor %}
			</tbody>
		</table>

	{% endblock %}
